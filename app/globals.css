@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

html {
  scroll-behavior: smooth;
}

:root {
  --background: 0 0% 100%;
  --foreground: 225 50% 15%;

  --card: 0 0% 100%;
  --card-foreground: 225 50% 15%;

  --popover: 0 0% 100%;
  --popover-foreground: 225 50% 15%;

  --primary: 225 100% 41%;
  --primary-foreground: 0 0% 100%;

  --secondary: 225 30% 96%;
  --secondary-foreground: 225 50% 15%;

  --muted: 225 30% 96%;
  --muted-foreground: 225 30% 45%;

  --accent: 225 100% 41%;
  --accent-foreground: 0 0% 100%;

  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 100%;

  --border: 225 20% 90%;
  --input: 225 20% 90%;
  --ring: 225 100% 41%;

  --radius: 0.25rem;

  /* Custom portfolio tokens */
  --font-mono: 'JetBrains Mono', monospace;

  --text-primary: 225 50% 15%;
  --text-secondary: 225 30% 35%;
  --text-muted: 225 30% 40%;

  --accent-blue: 225 100% 41%;
  --accent-blue-light: 225 100% 55%;
  --accent-blue-dark: 225 100% 30%;

  --max-content: 900px;
}

.dark {
  --background: 225 30% 6%;
  --foreground: 225 20% 90%;

  --card: 225 30% 10%;
  --card-foreground: 225 20% 90%;

  --popover: 225 30% 10%;
  --popover-foreground: 225 20% 90%;

  --primary: 225 100% 65%;
  --primary-foreground: 225 30% 6%;

  --secondary: 225 30% 15%;
  --secondary-foreground: 225 20% 90%;

  --muted: 225 30% 15%;
  --muted-foreground: 225 20% 60%;

  --accent: 225 100% 65%;
  --accent-foreground: 225 30% 6%;

  --border: 225 30% 20%;
  --input: 225 30% 20%;
  --ring: 225 100% 65%;

  --text-primary: 225 20% 92%;
  --text-secondary: 225 20% 75%;
  --text-muted: 225 25% 80%;

  --accent-blue: 225 100% 65%;
  --accent-blue-light: 225 100% 75%;
  --accent-blue-dark: 225 100% 50%;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: var(--font-mono), monospace;
}

@layer components {
  .page-container {
    @apply mx-auto px-6 pt-20 pb-12 md:pt-24 md:pb-16;
    max-width: var(--max-content);
  }

  .section-title {
    @apply text-lg font-medium mb-6;
    color: hsl(var(--text-primary));
  }

  .text-body {
    @apply text-sm leading-relaxed;
    color: hsl(var(--text-secondary));
  }

  .text-muted {
    @apply text-sm;
    color: hsl(var(--text-muted));
  }

  .text-accent {
    @apply text-sm;
    color: hsl(var(--accent-blue));
  }

  .link-accent {
    @apply underline decoration-1 underline-offset-2 transition-colors duration-200;
    color: hsl(var(--accent-blue));
  }

  .link-accent:hover {
    color: hsl(var(--accent-blue-light));
  }

  .link-primary {
    @apply underline decoration-1 underline-offset-2 transition-colors duration-200;
    color: hsl(var(--primary));
  }

  .link-primary:hover {
    opacity: 0.8;
  }

  .status-dot {
    @apply inline-block w-2 h-2 rounded-full mr-2;
  }

  .status-active {
    background-color: hsl(var(--accent-blue));
  }

  .status-inactive {
    background-color: hsl(var(--accent-blue-dark));
  }

  .work-item {
    @apply mb-6;
  }

  .work-title {
    @apply font-medium underline decoration-1 underline-offset-2 cursor-pointer transition-colors duration-200;
    color: hsl(var(--primary));
  }

  .work-title:hover {
    color: hsl(var(--accent-blue-light));
  }

  .work-role {
    @apply text-sm;
    color: hsl(var(--text-secondary));
  }

  .work-date {
    @apply text-sm;
    color: hsl(var(--accent-blue));
  }

  .work-description {
    @apply text-sm mt-2;
    color: hsl(var(--text-secondary));
  }

  .project-item {
    @apply mb-5;
  }

  .project-title {
    @apply font-medium underline decoration-1 underline-offset-2 cursor-pointer transition-colors duration-200;
    color: hsl(var(--accent-blue));
  }

  .project-title:hover {
    color: hsl(var(--accent-blue-light));
  }

  .project-description {
    @apply text-sm mt-1;
    color: hsl(var(--text-secondary));
  }

  .nav-link {
    @apply text-sm transition-colors duration-200;
    color: hsl(var(--text-muted));
  }

  .nav-link:hover {
    color: hsl(var(--primary));
  }

  /* Navbar */
  .navbar {
    @apply fixed top-0 left-0 right-0 z-50;
    background-color: hsl(var(--background) / 0.8);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid hsl(var(--border));
  }

  .navbar-inner {
    @apply mx-auto px-6 py-3 flex items-center justify-between;
    max-width: var(--max-content);
  }

  /* Blog list page */
  .blog-title {
    @apply text-3xl font-light mb-2;
    color: hsl(var(--text-primary));
  }

  .blog-subtitle {
    @apply text-sm mb-6;
    color: hsl(var(--text-secondary));
  }

  /* Category tabs */
  .blog-categories {
    @apply flex items-center gap-5 mb-5;
  }

  .blog-category-btn {
    @apply text-sm cursor-pointer transition-colors duration-200 pb-0.5;
    color: hsl(var(--text-muted));
    background: none;
    border: none;
    border-bottom: 1px solid transparent;
  }

  .blog-category-btn:hover {
    color: hsl(var(--accent-blue));
  }

  .blog-category-btn.active {
    color: hsl(var(--accent-blue));
    border-bottom-color: hsl(var(--accent-blue));
  }

  /* Tag chip list */
  .blog-tag-list {
    @apply flex flex-wrap gap-2 mb-8;
  }

  .blog-tag-chip {
    @apply flex items-center gap-1.5 text-xs px-2 py-0.5 rounded-sm cursor-pointer transition-all duration-150;
    background: none;
    border: 1px solid hsl(var(--border));
    color: hsl(var(--text-secondary));
  }

  .blog-tag-chip:hover {
    border-color: hsl(var(--text-muted));
    color: hsl(var(--text-primary));
  }

  .blog-tag-chip.active {
    border-color: hsl(var(--accent-blue));
    color: hsl(var(--accent-blue));
    background-color: hsl(var(--accent-blue) / 0.06);
  }

  .blog-tag-count {
    @apply text-xs;
    color: hsl(var(--text-muted));
  }

  .blog-tag-chip.active .blog-tag-count {
    color: hsl(var(--accent-blue) / 0.7);
  }

  /* Post list */
  .blog-post-item {
    @apply py-6;
    border-bottom: 1px solid hsl(var(--border));
  }

  .blog-post-item:last-child {
    border-bottom: none;
  }

  .blog-post-header {
    @apply flex justify-between items-baseline gap-4;
  }

  .blog-post-date {
    @apply text-sm shrink-0;
    color: hsl(var(--text-muted));
  }

  .blog-post-description {
    @apply text-sm mt-1;
    color: hsl(var(--text-secondary));
  }

  .blog-post-meta-row {
    @apply flex items-center gap-2 mt-1;
  }

  .blog-post-readtime {
    @apply text-xs;
    color: hsl(var(--text-muted));
  }

  .blog-meta-sep {
    @apply text-xs;
    color: hsl(var(--text-muted));
  }

  .blog-post-category {
    @apply text-xs;
    color: hsl(var(--text-muted));
  }

  /* Inline tags per post */
  .blog-post-inline-tags {
    @apply flex flex-wrap gap-1.5 mt-2;
  }

  .blog-inline-tag {
    @apply text-xs px-1.5 py-0.5 rounded-sm cursor-pointer transition-all duration-150;
    background: none;
    border: 1px solid hsl(var(--border));
    color: hsl(var(--text-muted));
  }

  .blog-inline-tag:hover {
    border-color: hsl(var(--text-muted));
    color: hsl(var(--text-secondary));
  }

  .blog-inline-tag.active {
    border-color: hsl(var(--accent-blue));
    color: hsl(var(--accent-blue));
  }

  .blog-no-results {
    @apply text-sm py-10 text-center;
    color: hsl(var(--text-muted));
  }

  /* Blog post page */
  .blog-back-link {
    @apply text-sm mb-8 inline-block transition-colors duration-200;
    color: hsl(var(--text-muted));
  }

  .blog-back-link:hover {
    color: hsl(var(--primary));
  }

  .blog-post-title {
    @apply text-3xl font-bold mb-2;
    color: hsl(var(--text-primary));
  }

  .blog-post-meta {
    @apply text-sm mb-4;
    color: hsl(var(--accent-blue));
  }

  /* Tags row on post page */
  .blog-post-tag-row {
    @apply flex flex-wrap gap-1.5 mb-6;
  }

  .blog-post-tag-chip {
    @apply text-xs px-1.5 py-0.5 rounded-sm;
    border: 1px solid hsl(var(--border));
    color: hsl(var(--text-muted));
  }

  /* Table of contents */
  .blog-toc {
    @apply mb-6;
  }

  .blog-toc-title {
    @apply text-xs tracking-widest uppercase mb-3;
    color: hsl(var(--text-muted));
  }

  .blog-toc-list {
    @apply list-none space-y-2;
  }

  .blog-toc-item {
    @apply flex items-baseline gap-3;
  }

  .blog-toc-number {
    @apply text-xs shrink-0;
    color: hsl(var(--text-muted));
  }

  .blog-toc-link {
    @apply text-sm transition-colors duration-200;
    color: hsl(var(--accent-blue));
  }

  .blog-toc-link:hover {
    color: hsl(var(--accent-blue-light));
  }

  .blog-toc-divider {
    @apply my-6;
    border-color: hsl(var(--border));
  }

  /* MDX prose styling */
  .mdx-content h2 {
    @apply text-xl font-bold mt-8 mb-4;
    color: hsl(var(--text-primary));
  }

  .mdx-content h3 {
    @apply text-lg font-semibold mt-6 mb-3;
    color: hsl(var(--text-primary));
  }

  .mdx-content p {
    @apply text-sm leading-relaxed mb-4;
    color: hsl(var(--text-secondary));
  }

  .mdx-content a {
    @apply underline decoration-1 underline-offset-2 transition-colors duration-200;
    color: hsl(var(--accent-blue));
  }

  .mdx-content a:hover {
    color: hsl(var(--accent-blue-light));
  }

  .mdx-content ul {
    @apply list-disc pl-6 mb-4 space-y-1;
  }

  .mdx-content ol {
    @apply list-decimal pl-6 mb-4 space-y-1;
  }

  .mdx-content li {
    @apply text-sm leading-relaxed;
    color: hsl(var(--text-secondary));
  }

  .mdx-content blockquote {
    @apply border-l-2 pl-4 my-4 italic;
    border-color: hsl(var(--accent-blue));
    color: hsl(var(--text-muted));
  }

  .mdx-content code {
    @apply text-xs px-1.5 py-0.5 rounded;
    background-color: hsl(var(--secondary));
    color: hsl(var(--text-primary));
  }

  .mdx-content pre {
    @apply rounded-md p-4 mb-4 overflow-x-auto;
    background-color: hsl(var(--secondary));
  }

  .mdx-content pre code {
    @apply p-0 bg-transparent;
  }

  .mdx-content hr {
    @apply my-8;
    border-color: hsl(var(--border));
  }

  .mdx-content strong {
    @apply font-semibold;
    color: hsl(var(--text-primary));
  }

  .mdx-content img {
    @apply w-full h-auto rounded-lg my-6;
  }

  .dark .mdx-content img {
    filter: invert(1) hue-rotate(180deg);
  }

  .mdx-content table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.875rem;
    margin: 1.5rem 0;
    display: block;
    overflow-x: auto;
  }

  .mdx-content thead {
    background-color: hsl(var(--muted));
  }

  .mdx-content th,
  .mdx-content td {
    border: 1px solid hsl(var(--border));
    padding: 0.5rem 0.75rem;
    text-align: left;
    vertical-align: top;
    color: hsl(var(--foreground));
  }

  .mdx-content th {
    font-weight: 600;
    color: hsl(var(--foreground));
    white-space: nowrap;
  }

  .mdx-content tbody tr:nth-child(even) {
    background-color: hsl(var(--muted));
  }
}
